---
title: "github-graph"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r imports}

library(igraph)
library(kableExtra)
library(bipartite)
library(networkD3)
library(bipartite)
```

```{r data}


entire_data       <- read.table("compressed_edge.data", sep = "\t", header = FALSE)
data              <- entire_data[c(1:1500),]
graph_data        <- graph.data.frame(data,directed = TRUE)

head(data, 100)
```

``` {r force-interactive}


wc <- cluster_walktrap(graph_data)
members <- membership(wc)
graph_d3 <- igraph_to_networkD3(graph_data, group = members)


p = forceNetwork(Links = graph_d3$links, Nodes = graph_d3$nodes, 
             # radiusCalculation = JS(" Math.sqrt(d.nodesize)+10"),
             charge = -100,
             # linkDistance = JS("function (d) {return 10;}"),
             Source = 'source',
             Target = 'target', 
             NodeID = 'name',
             Group = 'group',
             zoom = T,
             opacityNoHover = T,
             )
p
```



``` {r plot}
data              <- entire_data[c(1:20),]
graph_data        <- graph.data.frame(data,directed = TRUE)
g = graph_data
# dev.new(width = 5500, height = 3300, unit = "px")
lo <- layout_with_kk(g) # create a layout

lo <- norm_coords(lo, ymin=-1, ymax=1, xmin=-1, xmax=1)
# plot(g,
#      edge.arrow.width = .25,
#      edge.arrow.size = .25,
#      vertex.label = NA,
#      vertex.size = 5,
#      rescale=FALSE,
#      layout=lo*1)
plot(g)
# plot(g, layout=layout_randomly, main="Random")
# plot(g, layout=layout_in_circle, main="Circle")
# plot(g, layout=layout_as_star, main="Star")
# plot(g, layout=layout_as_tree, main="Tree")
# plot(g, layout=layout_on_grid, main="Grid")
# plot(g, layout=layout_with_fr, main="Force-directed")
```

``` {r bipart}
library(tidyr)

entire_data       <- read.table("compressed_lang.data", sep = "\t", header = FALSE)
data              <- entire_data[c(1:12),]
graph_data        <- graph.data.frame(data)

V(graph_data)$type <- bipartite_mapping(graph_data)$type

data_attr = as.numeric(unlist(vertex_attr(graph_data), FALSE))


plot(graph_data, layout=layout.bipartite)
head(data, 100)

```